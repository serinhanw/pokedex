let pokemonRepository=function(){let t="https://pokeapi.co/api/v2/pokemon/?limit=150",n=[];function o(e){"object"==typeof e&&"name"in e&&"url"in e?n.push(e):"name"in e&&"url"in e||console.error("Please provide the following keys to successfully push Pokemon: name and detailsUrl")}function i(e){l(e).then(function(){!function(e){let t=$(".modal-title"),n=$(".modal-body");t.empty(),n.empty();let o=$("<h1>"+e.name+"</h1>"),i=$('<img class="modal-img" style="width:50%">');i.attr("src",e.imageUrl),i.attr("alt","Image of Pokemon");let l=$("<p><b>height: </b>"+e.height+"</p>"),a=$("<p><b>weight: </b>"+e.weight+"</p>"),s=$("<p><b>type(s): </b>"+e.types+"</p>"),r=$("<p><b>abilities: </b>"+e.abilities+"</p>");n.append(i),n.append(o),n.append(l),n.append(a),n.append(s),n.append(r)}(e)})}function l(t){let n=t.url;return fetch(n).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.other.dream_world.front_default,t.height=e.height,t.weight=e.weight,t.types=[];for(let n=0;n<e.types.length;n++)t.types.push(e.types[n].type.name);t.abilities=[];for(let n=0;n<e.abilities.length;n++)t.abilities.push(e.abilities[n].ability.name)}).catch(function(){console.error(e)})}return{add:o,getAll:function(){return n},addListItem:function(e){let t=document.querySelector(".list-group"),n=document.createElement("li");n.classList.add("list-group-item"),n.classList.add("border-0");let o=document.createElement("div");o.classList.add("button-container");let l=document.createElement("button");l.innerText=e.name,l.classList.add("list-button"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#exampleModal"),o.appendChild(l),n.appendChild(o),t.appendChild(n),l.addEventListener("click",function(){i(e)})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,url:e.url})})}).catch(function(e){console.error(e)})},loadDetails:l,showDetails:i}}();function search(){let e=$("#searchBar").val().toLowerCase(),t=($(".list-group"),$("li:has(button)"));for(let n=0;n<t.length;n++)t[n].innerText.toLowerCase().indexOf(e)>-1?t[n].style.display="":t[n].style.display="none"}console.log(pokemonRepository.getAll()),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
